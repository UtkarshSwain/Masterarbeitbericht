\chapter{Anforderungsanalyse}
\label{chap:anforderungen}
Die in Kapitel 3 dargelegten theoretischen und technischen Grundlagen bilden das Fundament für die praktische Umsetzung des Prototyps. In den nachfolgenden Schritten erfolgt die Konkretisierung der Anforderungen an den zu entwickelnden Prototyp. Die vorliegende Analyse leitet sich aus den funktionalen Zielen des Projektes sowie den nicht-funktionalen Rahmenbedingungen im industriellen Umfeld der Siemens Mobility GmbH ab. Zu diesem Zweck werden die Systemgrenzen, Datenformate sowie potenzielle technische Herausforderungen strukturiert analysiert.

\section{Funktionale Anforderungen}
\label{sec:funktionaleanforderungen}
Im Rahmen dieser Arbeit wird ein Prototyp entwickelt, der die automatisierte Extraktion und Interpretation von Informationen aus technischen Gleisplänen ermöglicht. Die funktionalen Anforderungen (FA-001 bis FA-014) ergeben sich aus den spezifischen Aufgabenstellungen der Signaltechnik-Planung. Der Prototyp soll folgende Kernfunktionen erfüllen:

\subsection{Symbolerkennung und Objektklassifizierung}
\label{subsec:req_symbol}
Eine zentrale Anforderung ist die zuverlässige Detektion bahntechnischer Symbole in Vektor- oder Rastergrafiken.

\begin{itemize}
    \item \textbf{FA-001}\label{req:FA-001} \textbf{Erkennungsrate:} Der Prototyp \textbf{muss} mindestens 90\,\% der definierten Symbolklassen \textbf{detektieren} (gemessen als Recall des YOLO-Modells).

    \item \textbf{FA-002}\label{req:FA-002} \textbf{Rotationsinvarianz:} Wenn Symbole in beliebigen Winkeln ($0^\circ$ bis $360^\circ$) orientiert sind, \textbf{muss} der Prototyp in der Lage sein, diese Objekte korrekt zu \textbf{klassifizieren} und deren Rotationswinkel mit einer Genauigkeit von $\pm 5^\circ$ zu \textbf{bestimmen}.

    \item \textbf{FA-003}\label{req:FA-003} \textbf{Detektionsziele:} Der Prototyp \textbf{muss} die in Tabelle~\ref{tab:kernklassen} spezifizierten Kernklassen \textbf{detektieren}. Zusätzlich \textbf{soll} der Prototyp die in Tabelle~\ref{tab:auxiliarklassen} definierten Auxiliarklassen \textbf{detektieren}. Diese Zweiteilung ergibt sich aus der unterschiedlichen Relevanz: Kernklassen sind für den produktiven Planungsprozess unverzichtbar und werden quantitativ evaluiert, während Auxiliarklassen die Erweiterbarkeit des Systems demonstrieren und für spezifische Anwendungsfälle vorgesehen sind.
\end{itemize} 
\subsubsection{Kernklassen (produktionsrelevant)}

Die folgenden fünf Objektklassen bilden den Kern der Extraktionsaufgabe und werden 
in Kapitel~\ref{chap:evaluation} quantitativ evaluiert:

\begin{longtable}{|p{5cm}|p{7cm}|}
    \hline
    \textbf{Objektklasse} & \textbf{Symbol} \\
    \hline
    \endhead

    Signal & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/Signal2.png}
        \vspace{0.2cm}
    } \\
    \hline 

    Koordinate (Positionsangabe) & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/Position.png}
        \vspace{0.2cm}
    } \\
    \hline

    GKS (festkodiert) & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/GKS1.png}
        \vspace{0.2cm}
    } \\
    \hline

    GKS (gesteuert) & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/GKS2.png}
        \vspace{0.2cm}
    } \\
    \hline

    Gleismagnet & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/gleismagnet.png}
        \vspace{0.2cm}
    } \\
    \hline

    \caption{Kernklassen für die Datenextraktion (vollständig evaluiert)}
    \label{tab:kernklassen}
\end{longtable}

\subsubsection{Auxiliarklassen (Erweiterbarkeit)}

Zur Demonstration der Modularität und Erweiterbarkeit des Prototyps (vgl. Anforderung FA-014) werden zusätzlich acht weitere Objektklassen implementiert. Diese Klassen 
sind für spezifische Anwendungsfälle relevant, gehören jedoch nicht zum Kernumfang 
der aktuellen Planungsaufgabe und werden daher nicht detailliert evaluiert.

\begin{longtable}{|p{5cm}|p{7.5cm}|}
    \hline
    \textbf{Objektklasse} & \textbf{Symbol} \\
    \hline
    \endhead

    Weichenblock & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=3cm]{images/symbols/Weiche2.png}
        \vspace{0.2cm}
    } \\
    \hline 

    Haltepunkt & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/haltepunkt3.png}
        \vspace{0.2cm}
    } \\
    \hline

    Isolierstoß & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=1cm]{images/symbols/Isolierstoß§.png}
        \vspace{0.2cm}
    } \\
    \hline

    S-Verbinder & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=3cm]{images/symbols/SVERBINDER.png}
        \vspace{0.2cm}
    } \\
    \hline

    Prellbock & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=2cm]{images/symbols/prellblock.png}
        \vspace{0.2cm}
    } \\
    \hline

    Haltetafel & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=3cm]{images/symbols/Haltetafel.png}
        \vspace{0.2cm}
    } \\
    \hline

    Ende Weichen & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=3cm]{images/symbols/weichenende.png}
        \vspace{0.2cm}
    } \\
    \hline

    Weichengruppenende & 
    \parbox[c]{7cm}{\centering
        \vspace{0.2cm}
        \includegraphics[width=3cm]{images/symbols/weichengruppeende.png}
        \vspace{0.2cm}
    } \\
    \hline

    \caption{Auxiliarklassen zur Demonstration der Erweiterbarkeit (nicht evaluiert)}
    \label{tab:auxiliarklassen}
\end{longtable}

\textbf{Hinweis:} Die Auxiliarklassen werden im Rahmen des YOLOv8-Trainings (Kapitel~\ref{sec:objekterkennungmityolov8obb}) mit annotiert und erreichen vergleichbare Detektionsleistungen wie die Kernklassen. Die Fokussierung der End-to-End-Evaluation auf die Kernklassen erfolgte aufgrund der notwendigen Eingrenzung des Evaluationsumfangs. Bemerkenswert ist, dass das Modell auch visuell sehr ähnliche Symbole (z.\,B. Haltepunkt-Varianten H, Weichen W, Weichengruppen WG) zuverlässig unterscheiden kann. Eine detaillierte Analyse 
dieser Feinunterscheidungen war jedoch nicht Gegenstand dieser Arbeit.

\subsection{Texterkennung und OCR-Integration}
\begin{itemize}
    \item \textbf{FA-004}\label{req:FA-004} \textbf{OCR-Genauigkeit:} Der Prototyp \textbf{muss} Textinformationen (Signalbezeichnungen, Kilometrierungen) zuverlässig \textbf{extrahieren}.

    \item \textbf{FA-005}\label{req:FA-005} \textbf{Robustheit:} Wenn Textregionen unter erschwerten Bedingungen vorliegen (niedriger Kontrast, Bildrauschen, Rotation $0^\circ$--$360^\circ$, Überlagerungen), \textbf{muss} der Prototyp in der Lage sein, diese Texte zuverlässig zu \textbf{extrahieren}.
    \begin{figure}[H]
    \centering
    \includegraphics[width=5cm]{images/Kapitel4/OCRsample.png} 
    \caption{Beispielhafte Extraktion von Text und Position am Symbol GKS}
    \label{fig:Ocrsample}
    \end{figure}
\end{itemize}

\subsection{Semantische Verknüpfung und Logik}

\begin{itemize}
    \item \textbf{FA-006}\label{req:FA-006} \textbf{Fahrtrichtungsdetektion:} Wenn ein Signal detektiert wird, \textbf{soll} der Prototyp die Wirkrichtung (steigend/fallend) basierend auf dem Rotationswinkel des Symbols \textbf{ableiten}.

    \item \textbf{FA-007}\label{req:FA-007} \textbf{Symbol-Koordinaten-Verknüpfung:} Der Prototyp \textbf{muss} jedes erkannte Gleisplanelement (Signal, GKS, GM-Block) automatisch mit der räumlich nächstgelegenen Kilometrierungsangabe mittels geometrischer Proximity-Analyse unter Berücksichtigung der Symbolorientierung \textbf{verknüpfen}.

    \item \textbf{FA-008}\label{req:FA-008} \textbf{Manuelle Korrektur:} Der Prototyp \textbf{soll} eine Funktion zur manuellen Überschreibung automatisch erstellter Symbol-Text-Verknüpfungen \textbf{bereitstellen}.
\end{itemize}

\subsection{Datenaufbereitung und Export}
\begin{itemize}
    \item \textbf{FA-009}\label{req:FA-009} \textbf{Excel-Export:} Der Prototyp \textbf{muss} extrahierte Daten vollautomatisch in vordefinierte Excel-Tabellen (.xlsx) mit korrekter Zuordnung zu Zeilen und Spalten \textbf{exportieren}.
    \begin{figure}[H]
    \centering
    \includegraphics[width=6cm]{images/Kapitel4/excelübertragung.png}
    \caption{Schematische Übertragung von erkannten Objektdaten in die Ziel-Tabelle}
    \label{fig:excelübertragung}
    \end{figure}

    \item \textbf{FA-010}\label{req:FA-010} \textbf{Strukturerhalt:} Wenn Daten in bestehende Excel-Dateien exportiert werden, \textbf{soll} der Prototyp die vorhandene Struktur (Formatierung, Formeln, Makros) \textbf{bewahren} und ausschließlich Werte in definierte Bereiche einfügen.

    \item \textbf{FA-011}\label{req:FA-011} \textbf{Änderungsverfolgung:} Wenn zwei Planversionen verglichen werden, \textbf{muss} der Prototyp Änderungen als hinzugefügt, entfernt, verschoben oder modifiziert \textbf{identifizieren}, \textbf{kategorisieren} und in ein separates Excel-Sheet mit Spalten (Objektklasse, Kennung, Änderungstyp, Alt-Wert, Neu-Wert, Koordinaten) \textbf{exportieren}.
    \begin{figure}[H]
    \centering
    \includegraphics[width=9cm]{images/Kapitel4/änderungsample.png}
    \caption{Visualisierung der Änderungsverfolgung zwischen zwei Planversionen}
    \label{fig:änderungsample}
    \end{figure}

\end{itemize}

\subsection{Benutzerinteraktion und Konfiguration}
\begin{itemize}
    \item \textbf{FA-012}\label{req:FA-012} \textbf{Visuelle Validierung:} Der Prototyp \textbf{soll} alle erkannten Objekte durch farbige Bounding Boxes im Gleisplan oder als Overlay zur manuellen Überprüfung \textbf{visualisieren}.
    \begin{figure}[H]
    \centering
    \includegraphics[width=14cm]{images/Kapitel4/gleisplanmarkierungv2.png}
    \caption{Visuelle Validierung durch Bounding-Box-Overlays im Gleisplan \cite{railroadstationdrawing}}
    \label{fig:gleisplanmarkierung}
    \end{figure}

    \item \textbf{FA-013}\label{req:FA-013} \textbf{Grafische Benutzeroberfläche:} Der Prototyp \textbf{muss} eine grafische Benutzeroberfläche für PDF-Upload, Analyse-Start und Datenexport ohne erforderliche Kommandozeilen-Kenntnisse \textbf{bereitstellen}.

    \item \textbf{FA-014}\label{req:FA-014} \textbf{Modulare Architektur:} Der Prototyp \textbf{muss} mit modularer Architektur \textbf{gestaltet sein}, die klare Trennung der Verarbeitungsstufen (Objekterkennung, Texterkennung, UI, Export) gewährleistet und Erweiterungen (z.B. neue Symbolklassen, CAD-Anbindung) ohne Modifikation der Kernlogik ermöglicht.
\end{itemize}

\section{Nicht-funktionale Anforderungen}
\label{sec:nichtfunktionaleanforderungen}
Ergänzend zu den funktionalen Zielen definieren die nicht-funktionalen Anforderungen (NFA-001 bis NFA-010) die Qualitätsmerkmale und Rahmenbedingungen des Prototyps.

\subsection{Sicherheit und Datenschutz}
\begin{itemize}
    \item \textbf{NFA-001}\label{req:NFA-001} \textbf{On-Premise-Verarbeitung:} Der Prototyp \textbf{muss} alle Daten vollständig lokal ohne Übertragung an externe Cloud-Services \textbf{verarbeiten} und Offline-Betrieb \textbf{unterstützen}.

    \item \textbf{NFA-002}\label{req:NFA-002} \textbf{Lizenzkonformität:} Der Prototyp \textbf{muss} ausschließlich Open-Source-Bibliotheken mit genehmigten Lizenzen (Apache 2.0, MIT, BSD) \textbf{verwenden} und alle Abhängigkeiten \textbf{dokumentieren}.
\end{itemize}

\subsection{Qualität und Zuverlässigkeit}
\begin{itemize}
    \item \textbf{NFA-003}\label{req:NFA-003} \textbf{End-to-End-Genauigkeit:} Der Prototyp \textbf{muss} eine Gesamtgenauigkeit von mindestens 85\,\% bei vollständiger Objektextraktion (Detektion + OCR + Linking + Export korrekt) \textbf{erreichen}.

    \item \textbf{NFA-004}\label{req:NFA-004} \textbf{Robustheit:} Wenn fehlerhafte Eingaben vorliegen (korrupte PDFs, Bildrauschen), \textbf{soll} der Prototyp definierte Fehlermeldungen statt Absturz \textbf{bereitstellen}.

    \item \textbf{NFA-005}\label{req:NFA-005} \textbf{Prüfbarkeit:} Der Prototyp \textbf{soll} visuelle Validierung aller Ergebnisse mittels Bounding-Box-Overlay und Rückverfolgbarkeit (Klick auf Tabellenzeile zeigt Position im Plan) \textbf{bereitstellen}.
\end{itemize}

\subsection{Effizienz und Wirtschaftlichkeit}
\begin{itemize}
    \item \textbf{NFA-006}\label{req:NFA-006} \textbf{Prozessoptimierung:} Der Prototyp \textbf{soll} den manuellen Prüfaufwand durch Transformation vom 4-Augen-Prinzip hin zu einem KI-gestützten Prozess (Mensch prüft KI) \textbf{reduzieren}.

    \item \textbf{NFA-007}\label{req:NFA-007} \textbf{Ressourceneffizienz:} Der Prototyp \textbf{soll} einen durchschnittlichen Bahnhofsplan auf Standard-Hardware (CPU-only) in weniger als der Hälfte der manuellen Bearbeitungszeit \textbf{verarbeiten}.
\end{itemize}

\subsection{Wartbarkeit und Erweiterbarkeit}
\begin{itemize}
    \item \textbf{NFA-008}\label{req:NFA-008} \textbf{Update-Fähigkeit:} Der Prototyp \textbf{soll} die Integration neuer Symbolvarianten über Konfigurations-Updates oder neue Modell-Gewichte ohne Code-Änderungen \textbf{unterstützen}.
\end{itemize}

\subsection{Datenformate und Schnittstellen}
\label{subsec:datenformate}

\begin{itemize}
    \item \textbf{NFA-009}\label{req:NFA-009} \textbf{Eingabeformate:} Der Prototyp \textbf{muss} PDF-Dateien (Vektor/Raster, intern gerendert bei 500 DPI) und Bilddateien (PNG, JPEG, TIFF, BMP mit nativer Auflösung von 500 DPI) \textbf{verarbeiten}.

    \textit{Begründung:} Das YOLOv8-OBB Modell wurde ausschließlich auf 500 DPI Bildkacheln trainiert. Abweichungen führen zu signifikant reduzierten Erkennungsraten.

    \item \textbf{NFA-010}\label{req:NFA-010} \textbf{Ausgabeformate:} Ergänzend zum Excel-Export (FA-009) \textbf{soll} der Prototyp Ergebnisse auch in CSV und JSON Format \textbf{exportieren}.
\end{itemize}

Tabelle \ref{tab:formate-prototyp} gibt einen detaillierten Überblick über die im Prototyp verwendeten Dateiformate und deren Einsatz in der Verarbeitungspipeline.

\begin{table}[H]
\centering
\renewcommand{\arraystretch}{1.4}
\begin{tabularx}{\textwidth}{|p{2.5cm}|p{2cm}|X|X|}
\hline
\textbf{Kategorie} & \textbf{Format} & \textbf{Beschreibung} & \textbf{Einsatz im Prototyp} \\
\hline
\textbf{Eingabe} & PDF & Standardformat für Pläne & Primäre Datenquelle \\
 & PNG/JPG & Rasterisierte Ausschnitte & Input für CNN/YOLO \\
\hline
\textbf{Verarbeitung} & JSON & Strukturierte Metadaten & Interner Datenaustausch \\
 & PostgreSQL & Relationale Datenbank & Persistenz \& Versionierung \\
\hline
\textbf{Ausgabe} & XLSX & Excel-Arbeitsmappe & Engineering-Workflow \\
 & CSV & Textbasiertes Format & Einfacher Datenaustausch \\
 & JSON & API-Response & Schnittstellenanbindung \\
\hline
\end{tabularx}
\caption{Übersicht der unterstützten Datenformate (siehe \ref{req:NFA-009} und \ref{req:NFA-010})}
\label{tab:formate-prototyp}
\end{table}

\section{Herausforderungen bei der Umsetzung}
Die Realisierung der in den Abschnitten \ref{subsec:req_symbol} bis \ref{subsec:datenformate} definierten Anforderungen sieht sich folgenden technischen Herausforderungen gegenüber:

\begin{enumerate}
    \item \textbf{Daten-Heterogenität:} Die Varianz in den Eingabedaten (unterschiedliche Export-Einstellungen, Linienstärken, Skalierungen) erschwert eine universelle Regelbildung.
    \item \textbf{Visuelle Ambiguität:} Einige Symbole (z.\,B. unterschiedliche Gleiskoppelspulen-Typen) unterscheiden sich visuell nur in wenigen Pixeln oder sind nur durch den Kontext (Begleittext) differenzierbar.
    \item \textbf{OCR-Komplexität:} Technischer Text in Plänen ist oft extrem klein, rotiert und durch Führungslinien durchgestrichen, was klassische OCR-Engines (wie Tesseract) an ihre Grenzen bringt.
    \item \textbf{Mangel an Trainingsdaten:} Es existiert kein öffentlicher Datensatz für bahntechnische Symbolik. Ein \enquote{Cold Start} ist notwendig, bei dem Trainingsdaten zunächst manuell (z.\,B. via CVAT) annotiert werden müssen.
    \item \textbf{Semantische Lücke:} Der Schritt von der Erkennung (\enquote{Da ist eine Box}) zur Bedeutung (\enquote{Das ist Weiche 12 in Rechtslage}) erfordert komplexe Heuristiken, insbesondere beim Mapping von Textboxen zu den geometrisch nächsten Symbolen.
\end{enumerate}

\section{Anforderungs-Rückverfolgbarkeit}
\label{sec:traceability}

Zur Sicherstellung der vollständigen Umsetzung aller definierten Anforderungen 
wird eine Rückverfolgbarkeitsmatrix (Traceability Matrix) eingeführt. Diese 
dokumentiert die Zuordnung jeder Anforderung zu den entsprechenden 
Implementierungskomponenten (Kapitel~\ref{chap:implementierung}) sowie den 
Evaluationsmetriken (Kapitel~\ref{chap:evaluation}).

\subsection{Funktionale Anforderungen}

\begin{longtable}{|l|>{\raggedright\arraybackslash}p{4cm}|>{\raggedright\arraybackslash}p{4.5cm}|>{\raggedright\arraybackslash}p{4.5cm}|}
\hline
\textbf{ID} & \textbf{Anforderung} & \textbf{Implementierung} & \textbf{Evaluation} \\
\hline
\endfirsthead
\hline
\textbf{ID} & \textbf{Anforderung} & \textbf{Implementierung} & \textbf{Evaluation} \\
\hline
\endhead

\hyperref[req:FA-001]{FA-001} & Erkennungsrate $\geq$ 90\% & 
Abschn.~\ref{sec:objekterkennungmityolov8obb}: YOLOv8-OBB Training mit 13 Klassen & 
Abschn.~\ref{subsec:detection_eval}: Recall = 95.7\% (Val), 100\% (Test) \\
\hline

\hyperref[req:FA-002]{FA-002} & Rotationsinvarianz ($0^\circ$--$360^\circ$) & 
Abschn.~\ref{sec:objekterkennungmityolov8obb}: OBB-Annotation, synthetische Rotation (10 Winkel) & 
Abschn.~\ref{subsec:e2e_test_eval}, Tab.~\ref{tab:rotation_analysis}: 38 Objekte mit $|\theta|>30^\circ$ bei höherer Konfidenz (0.946 vs. 0.890) \\
\hline

\hyperref[req:FA-003]{FA-003} & Zielobjekte (5 Kernklassen) & 
Abschn.~\ref{sec:objekterkennungmityolov8obb}: Signal, Koordinate, GKS (2 Typen), GM-Block & 
Abschn.~\ref{subsec:e2e_test_eval}: 636/644 Objekte korrekt (98.76\%)\\
\hline

\hyperref[req:FA-004]{FA-004} & OCR-Genauigkeit (in E2E integriert) & 
Abschn.~\ref{sec:ocrpipeline}: Multi-Engine Kaskade (PaddleOCR, Tesseract, EasyOCR) & 
Abschn.~\ref{subsec:e2e_test_eval}: 3 OCR-bedingte Fehler (0.47\% Fehlerrate) \\
\hline

\hyperref[req:FA-005]{FA-005} & OCR-Robustheit (Rauschen, Rotation) & 
Abschn.~\ref{sec:ocrpipeline}: Dual-Winkel-Routing, CLAHE, Linienentfernung & 
Abschn.~\ref{subsec:e2e_test_eval}, Tab.~\ref{tab:rotation_analysis}: 100\% OCR-Erfolg bei $|\theta|>30^\circ$ (38/38) \\
\hline

\hyperref[req:FA-006]{FA-006} & Fahrtrichtungsdetektion & 
Abschn.~\ref{sec:fahrtrichtung}: Geometrische Ableitung aus Signal-GKS-Relation & 
Abschn.~\ref{subsec:e2e_test_eval}: 171/172 korrekt (99.42\%), Tab.~\ref{tab:signal_attribute_accuracy} \\
\hline

\hyperref[req:FA-007]{FA-007} & Symbol-Koordinaten-Verknüpfung & 
Abschn.~\ref{sec:intelligentesymboltextverknüpfung}: Proximity-basiertes Linking & 
Abschn.~\ref{subsec:e2e_test_eval}: 642/644 Verknüpfungen korrekt (99.69\%) \\
\hline

\hyperref[req:FA-008]{FA-008} & Manuelle Korrektur (Human-in-the-Loop) & 
Abschn.~\ref{sec:validierungundsicherung}: Validierungsdialog mit Inline-Editierung & 
Abschn.~\ref{subsubsec:validation_tools}: Prüfaufwand um 85\% reduziert \\
\hline

\hyperref[req:FA-009]{FA-009} & Excel-Integration & 
Abschn.~\ref{subsec:exportfunktionlität}: XLSX-Export mit Formatierung & 
Abschn.~\ref{subsec:functional_validation}, Tab.~\ref{tab:functional_validation} \\
\hline

\hyperref[req:FA-010]{FA-010} & Strukturerhalt (Non-destructive Update) & 
Abschn.~\ref{subsec:exportfunktionlität}: Werte-Insertion ohne Formatänderung & 
Abschn.~\ref{subsec:functional_validation}, Tab.~\ref{tab:functional_validation} \\
\hline

\hyperref[req:FA-011]{FA-011} & Änderungsverfolgung (Diff) & 
Abschn.~\ref{subsec:vergleichundänderung}: UID-basierter Versionsvergleich & 
Abschn.~\ref{subsec:functional_validation}, Tab.~\ref{tab:functional_validation} \\
\hline

\hyperref[req:FA-012]{FA-012} & Visuelle Validierung (Bounding Boxes) & 
Abschn.~\ref{sec:benutzeroberfläche}: PDF-Viewer mit Overlay-System & 
Abschn.~\ref{subsec:functional_validation}, Tab.~\ref{tab:functional_validation} \\
\hline

\hyperref[req:FA-013]{FA-013} & Grafische Benutzeroberfläche & 
Abschn.~\ref{sec:benutzeroberfläche}: PyQt5-basierte Desktop-Anwendung & 
Abschn.~\ref{subsec:functional_validation}, Tab.~\ref{tab:functional_validation} \\
\hline

\hyperref[req:FA-014]{FA-014} & Modularität (Architektur) & 
Kap.~\ref{chap:konzeption}: Schichtenarchitektur; Abschn.~\ref{sec:objekterkennungmityolov8obb}: 8 Auxiliarklassen & 
Abschn.~\ref{subsec:nfa_validation}: Erweiterung ohne Kernlogik-Änderung \\
\hline

\caption{Rückverfolgbarkeitsmatrix: Funktionale Anforderungen}
\label{tab:traceability_fa}
\end{longtable}

\subsection{Nicht-funktionale Anforderungen}

\begin{longtable}{|l|>{\raggedright\arraybackslash}p{3.5cm}|>{\raggedright\arraybackslash}p{4cm}|>{\raggedright\arraybackslash}p{4cm}|}
\hline
\textbf{ID} & \textbf{Anforderung} & \textbf{Implementierung} & \textbf{Evaluation} \\
\hline
\endfirsthead
\hline
\textbf{ID} & \textbf{Anforderung} & \textbf{Implementierung} & \textbf{Evaluation} \\
\hline
\endhead

\hyperref[req:NFA-001]{NFA-001} & On-Premise-Verarbeitung & 
Vollständig lokale Ausführung, keine Cloud-APIs & 
Abschn.~\ref{subsec:testumgebung}: CPU-only Inferenz; Abschn.~\ref{subsec:nfa_validation} \\
\hline

\hyperref[req:NFA-002]{NFA-002} & Lizenzkonformität (Apache/MIT/BSD) & 
Tab.~\ref{tab:tech_stack}: Alle Bibliotheken Open Source & 
Abschn.~\ref{subsec:nfa_validation}: Lizenzprüfung dokumentiert \\
\hline

\hyperref[req:NFA-003]{NFA-003} & Gesamtgenauigkeit $\geq$ 85\% & 
Gesamte Pipeline (Kap.~\ref{chap:implementierung}) & 
Abschn.~\ref{subsec:e2e_test_eval}: 98.76\% erreicht \\
\hline

\hyperref[req:NFA-004]{NFA-004} & Robustheit (fehlerhafte Eingaben) & 
Abschn.~\ref{sec:validierungundsicherung}: Fallback-Mechanismen & 
Abschn.~\ref{subsubsec:validation_tools}: 7 Pläne ohne Abstürze \\
\hline

\hyperref[req:NFA-005]{NFA-005} & Prüfbarkeit (Rückverfolgbarkeit) & 
Abschn.~\ref{sec:unterstützendekomponente}: Metadaten, Jump-to-Detection & 
Abschn.~\ref{subsubsec:validation_tools}: Bidirektionale Navigation \\
\hline

\hyperref[req:NFA-006]{NFA-006} & Prozessoptimierung & 
Automatisierung des manuellen Prozesses & 
Abschn.~\ref{subsubsec:processing_time}: 75.3\% Zeitersparnis \\
\hline

\hyperref[req:NFA-007]{NFA-007} & Ressourceneffizienz & 
CPU-kompatible Inferenz & 
Abschn.~\ref{subsubsec:processing_time}: Ø 12.3 min/Plan \\
\hline

\hyperref[req:NFA-008]{NFA-008} & Update-Fähigkeit &
Externe Modell-Gewichte (\texttt{best.pt}) &
Abschn.~\ref{subsec:nfa_validation}: Nachtraining demonstriert \\
\hline

\hyperref[req:NFA-009]{NFA-009} & Eingabeformate (PDF, PNG, JPG) &
Abschn.~\ref{Inferenz}: PyMuPDF, OpenCV &
Abschn.~\ref{subsec:testdatensatz}: 7 PDFs verarbeitet \\
\hline

\hyperref[req:NFA-010]{NFA-010} & Ausgabeformate (CSV, JSON) &
Abschn.~\ref{subsec:exportfunktionlität}: Zusätzliche Export-Optionen &
Abschn.~\ref{subsec:functional_validation}: Funktionstest bestanden \\
\hline

\caption{Rückverfolgbarkeitsmatrix: Nicht-funktionale Anforderungen}
\label{tab:traceability_nfa}
\end{longtable}